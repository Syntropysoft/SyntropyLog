# Example 35: Custom HTTP Adapter

This example demonstrates the true power of SyntropyLog's decoupled architecture: the ability to instrument **any** HTTP client by creating a custom adapter.

## The "Why"

While SyntropyLog provides built-in adapters for popular clients like `axios`, you might be using a different library (`got`, `node-fetch`, `superagent`) or even a company-internal, proprietary HTTP client.

Instead of waiting for official support, you can write your own "translator" that teaches SyntropyLog how to speak the language of your specific client. This is done by implementing the `IHttpClientAdapter` interface.

This gives you total freedom and ensures that SyntropyLog can grow with your needs.

## Purpose

The goal of this example is to:
1.  Define a custom adapter for the `got` HTTP client.
2.  Implement the required `request` method, translating between SyntropyLog's generic format and `got`'s specific API.
3.  Configure SyntropyLog to use this new, custom adapter.
4.  Show that once configured, the instrumented client behaves exactly like one using a built-in adapter, with full logging and context propagation.

## How to Run

1.  **Install Dependencies**:
    From the `examples/35-custom-http-adapter` directory, run:
    ```bash
    npm install
    ```

2.  **Run the Script**:
    ```bash
    npm start
    ```

## Expected Output

The output will be nearly identical to the basic correlation example, but this time, the logs are being generated by our custom `GotAdapter`. This proves our adapter was successfully integrated into the framework.

```
INFO (main): Initialized.
INFO (main): Context created. Making HTTP call... {"correlationId":"..."}
INFO (my-got-client): Starting HTTP request... {"correlationId":"...","http":{"method":"GET","url":"/products/456"}}
INFO (my-got-client): Nock mock confirmed: Correlation ID received! {"correlationId":"..."}
INFO (my-got-client): HTTP response received. {"correlationId":"...","http":{"method":"GET","url":"/products/456","statusCode":200,"durationMs":...}}
INFO (main): Request finished.
``` 